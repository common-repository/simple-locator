var NonAjaxResults=function(){var t=this,e=jQuery;return t.results=e("*[data-wpsl-result]"),t.resultData=[],t.init=function(){t.setResultData()},t.setResultData=function(){e.each(t.results,function(a,o){t.resultData[a]={latitude:e(this).attr("data-lat"),longitude:e(this).attr("data-lng"),permalink:e(this).attr("data-permalink"),title:e(this).attr("data-title")}}),t.loadMap()},t.loadMap=function(){markers=[];var a,o=t.resultData,n=wpsl_locator.mapstyles,l=wpsl_locator.mappin?wpsl_locator.mappin:"",s=new google.maps.LatLngBounds,r={mapTypeId:"roadmap",mapTypeControl:!1,zoom:8,styles:n,panControl:!1},i=new google.maps.InfoWindow,p=e(wpsl_locator_options.mapcont)[0];e(p).show();var g=new google.maps.Map(p,r);for(a=0;a<o.length;a++){var u=new google.maps.LatLng(o[a].latitude,o[a].longitude);s.extend(u);var m=new google.maps.Marker({position:u,map:g,title:o[a].title,icon:l});google.maps.event.addListener(m,"click",function(t,e){return function(){i.setContent("<h4>"+o[e].title+'</h4><p><a href="'+o[e].permalink+'">'+wpsl_locator.viewlocation+"</a></p>"),i.open(g,t)}}(m,a)),markers.push(m),g.fitBounds(s);var d=google.maps.event.addListener(g,"idle",function(){o.length<2&&g.setZoom(13),google.maps.event.removeListener(d)})}var c=google.maps.event.addListener(g,"bounds_changed",function(t){google.maps.event.removeListener(c)});googlemap=g},t.init()};